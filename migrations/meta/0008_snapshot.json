{
  "id": "533c5d8d-1226-43b4-9d79-c3a7107efe78",
  "prevId": "427bc63e-2489-49c9-9e7c-d3b8cc9b40fe",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.notification": {
      "name": "notification",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "category": {
          "name": "category",
          "type": "category_notification",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "type_notification",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "message": {
          "name": "message",
          "type": "varchar",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "payment_id": {
          "name": "payment_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_read": {
          "name": "is_read",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notification_user_id_admins_id_fk": {
          "name": "notification_user_id_admins_id_fk",
          "tableFrom": "notification",
          "tableTo": "admins",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "notification_payment_id_retray_id_fk": {
          "name": "notification_payment_id_retray_id_fk",
          "tableFrom": "notification",
          "tableTo": "retray",
          "columnsFrom": [
            "payment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "notification_id_unique": {
          "name": "notification_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.admins": {
      "name": "admins",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "username": {
          "name": "username",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "password": {
          "name": "password",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'admin'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "is_staff": {
          "name": "is_staff",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "admins_id_unique": {
          "name": "admins_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "id"
          ]
        },
        "admins_username_unique": {
          "name": "admins_username_unique",
          "nullsNotDistinct": false,
          "columns": [
            "username"
          ]
        },
        "admins_email_unique": {
          "name": "admins_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.candidates": {
      "name": "candidates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "nom": {
          "name": "nom",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "prenom": {
          "name": "prenom",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "filiere": {
          "name": "filiere",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image": {
          "name": "image",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": true
        },
        "nombreVotes": {
          "name": "nombreVotes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "evenement_id": {
          "name": "evenement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "candidates_evenement_id_evenements_id_fk": {
          "name": "candidates_evenement_id_evenements_id_fk",
          "tableFrom": "candidates",
          "tableTo": "evenements",
          "columnsFrom": [
            "evenement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "candidates_id_unique": {
          "name": "candidates_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.commission": {
      "name": "commission",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "paiement_id": {
          "name": "paiement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "montant_total": {
          "name": "montant_total",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "part_site": {
          "name": "part_site",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "part_organisateur": {
          "name": "part_organisateur",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "commission_paiement_id_paiement_id_fk": {
          "name": "commission_paiement_id_paiement_id_fk",
          "tableFrom": "commission",
          "tableTo": "paiement",
          "columnsFrom": [
            "paiement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "commission_id_unique": {
          "name": "commission_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.evenements": {
      "name": "evenements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "titre": {
          "name": "titre",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "image": {
          "name": "image",
          "type": "varchar(512)",
          "primaryKey": false,
          "notNull": true
        },
        "prix_unitaire_vote": {
          "name": "prix_unitaire_vote",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "date_debut": {
          "name": "date_debut",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "date_fin": {
          "name": "date_fin",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "evenement_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'EN COUR'"
        },
        "publish": {
          "name": "publish",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "commison": {
          "name": "commison",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "evenements_id_unique": {
          "name": "evenements_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.paiement": {
      "name": "paiement",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "numero_tel": {
          "name": "numero_tel",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "montant": {
          "name": "montant",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "status_paiement",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "moyen_paiement": {
          "name": "moyen_paiement",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "fedapay_transaction_id": {
          "name": "fedapay_transaction_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "evenement_id": {
          "name": "evenement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "paiement_evenement_id_evenements_id_fk": {
          "name": "paiement_evenement_id_evenements_id_fk",
          "tableFrom": "paiement",
          "tableTo": "evenements",
          "columnsFrom": [
            "evenement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "paiement_id_unique": {
          "name": "paiement_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.retray": {
      "name": "retray",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "montant_retrait": {
          "name": "montant_retrait",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "status_retrait",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'en cour'"
        },
        "telephone": {
          "name": "telephone",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "date_creation": {
          "name": "date_creation",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "date_aprobation": {
          "name": "date_aprobation",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "retray_user_id_admins_id_fk": {
          "name": "retray_user_id_admins_id_fk",
          "tableFrom": "retray",
          "tableTo": "admins",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "retray_id_unique": {
          "name": "retray_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.vote": {
      "name": "vote",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "numero_tel": {
          "name": "numero_tel",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "candidat_id": {
          "name": "candidat_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "paiement_id": {
          "name": "paiement_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "nombre_vote": {
          "name": "nombre_vote",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "vote_candidat_id_candidates_id_fk": {
          "name": "vote_candidat_id_candidates_id_fk",
          "tableFrom": "vote",
          "tableTo": "candidates",
          "columnsFrom": [
            "candidat_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "vote_paiement_id_paiement_id_fk": {
          "name": "vote_paiement_id_paiement_id_fk",
          "tableFrom": "vote",
          "tableTo": "paiement",
          "columnsFrom": [
            "paiement_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "vote_id_unique": {
          "name": "vote_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.category_notification": {
      "name": "category_notification",
      "schema": "public",
      "values": [
        "user",
        "payment",
        "vote",
        "system"
      ]
    },
    "public.role": {
      "name": "role",
      "schema": "public",
      "values": [
        "admin",
        "subadmin",
        "responsable"
      ]
    },
    "public.evenement_status": {
      "name": "evenement_status",
      "schema": "public",
      "values": [
        "EN COUR",
        "A VENIR",
        "TERMINER"
      ]
    },
    "public.status_paiement": {
      "name": "status_paiement",
      "schema": "public",
      "values": [
        "pending",
        "validated",
        "cancelled"
      ]
    },
    "public.status_retrait": {
      "name": "status_retrait",
      "schema": "public",
      "values": [
        "en cour",
        "approuver",
        "completer",
        "rejecter"
      ]
    },
    "public.type_notification": {
      "name": "type_notification",
      "schema": "public",
      "values": [
        "withdrawal_request",
        "withdrawal_approved",
        "withdrawal_rejected",
        "payment_completed"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}